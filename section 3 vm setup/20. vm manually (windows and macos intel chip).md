# VM MANUALLY (WINDOWS AND MACOS INTEL CHIP)

## PREREQUISITES FOR WINDOWS
Enable virtualization in BIOS. It will be called any of the following
- VTx
- Secure virtual machine
- Virtualization

## DISABLE OTHER WINDOWS VIRTUALIZATION
All these options are WINDOWS FEATURES. Just search "windows features" in the search bar, and disable this features;
- Microsoft Hyperv
- Windows Hypervisor Platform
- Windows Subsystem for linux
- Docker Desktop
- Virtual Machine Platform

After disabling them, REBOOT your computer

## CREATE VIRTUAL MACHINE
- Open VirtualBox
- Click "New" and provide the following
    - Name: provide any name e.g centosvm
    - Type: Linux
    - Subtype: Red Hat
    - version: Red Hat (64-bit) 
NOTE: If you only see "version: Red Hat (32-bit)" that means virtualization is not enabled in your BIOS

- Under "Hardware"
    - Base memory: 2048
    - processors: 2

- Under "Create Virtual Hard Disk..."
    - Make sure to uncheck "Pre-allocate Full Size"

- Click "Finish"
- The VM will be ceated
- this is just the hardware, we need to install OS on this.

- Create another VM for Ubuntu
    - Name: provide any name e.g ubuntuvm
    - Type: Linux 
    - Subtype: Ubuntu
    - vaersion: Ubuntu (64-bit)
- The remaining settings are the same for centosvm

## DOWNLOAD CETNOS ISO FILE
- search google for "centos stream 9 iso download"
- URL
```
mirror.sream.centos.org/...
```
- Download the ".iso" file. It's around 1G

## INSTALL CENTOS ISO FILE IN YOUR VM
- Right click on the centosvm and go to "Settings"
- Go to "Storage" of the "Expert" tab
- Click the "Empty" disc in "Controller IDE"
- Add the ISO file to the "Optical Drive" and also make sure to check mark "Live CD/DVD"
- Click "OK"

## VM NETWORK SETTINGS
- On any computer, if you want to connect it to a network, it needs to have a device called "NETWORK ADAPTER"
- same like our computer or laptop, we have a "WIRELESS ADAPTER" and "ETHERNET ADAPTER" 
- nowadays, laptop does not come with ethernet adapters
- in eternet adapters you need to plugin the physical ethernet cable, and the other end of the cable will be connected to a router
- nowadays we have the wireless adapter, and this wireless adapter will be connected to a wifi or wireless router
- This wireless router will have an IP address
- IP address in a network is used to identify a network device 
- Same as you have a network adapter on your computer, that will also recieve an IP address from the router
- The wireless router has a feature called DSCP that will allocate IP addresses to the network adapters
- So the IP is allocated to a network adapter, not to a computer.
- Your computer can have multiple network adapters and each can have its own IP address
- The VM has virtual network adapter and in order to connect it to the physical wireless router we need to use a concept called "BRIDGING"
- So your VM virtual network adapter will be connected to your computer's network adapter, which in turn will be connected to the wifi router
- in BRIDGE networking concept, the VM virtual network adapter will connect to the wifi router or any router available through a physical network adapter on your computer.
- It will use your computer network adapter as a bridge to connect to the router
- The router will then give an IP address to this VM network adapter, assuming that it's just any other normal network adapter
- To see your computers network adapter and its IP address
```
# Windows
$ ipconfig

# MacOS
$ ifconfig
```

- Router IP Address = Default Gateway
- Computer IP Address = IPv4 Address

## HOW TO KNOW YOUR COMPUTER NETWORK ADAPTER NAME
- Go to "Control panel" ---> "Network and Internet" ---> "Network and sharing center"
- Click "Change adapter settings"
- You should see all the available network adapter of your computer
- you should se "Wi-Fi" and "Ethernet". The rest are just the virtual adapters
- you should also see the name there

## CONNECT VM VIRTUAL NETWORK ADAPTER TO YOUR COMPUTER PHYSICAL NETWORK ADAPTER
- Right click on the centosvm and go to "Settings"
-  Go to "Network" in the "Expert" tab
- leave "Adapter 1" as is, the NAT adapter is default in virtualBox
- Go to "Adapter 2"
    - Check mark "Enable Network Adater" and fill the following
    - Attached to: Bridged Adapter
    - Name: You have to select the computer's network adapter name
        - If you are using wifi, you will select wireless network adapter of your computer
        - If you are using ethernet cable you will select the network adapter
    - Check mark "Cable connected" 
    - Click "OK"
- The benefit of this is that the VM will recieve an IP address from our router
- and our VM will act like any other computer in the network

## CAPTURE YOUR MOUSE CURSOR ON THE VM
- Right click on the centosvm and go to "Settings"
-  Go to "System" in the "Expert" tab
- In the "Motherboard" tab, set the following values
    - Pointing Device: USB Tablet
    - Click "OK"
- This will be heplful when you want to use your mouse cursor in the VM

- Start the centosvm
- when it opens click on the black screen, it will capture your mouse cursor
- now click "Capture"
- to release your mouse cursor, use the right "CTRL" key on your keyboard
- Use the arrow key to select "Install CentOS Stream 9" and hit "Enter"
- Select language
- Click "Installation Destination", this is the virtual hard disk of the VM
- Select the virtual hard disk you see there, check mark "Automatic", then click on "Done"
- Click "Network and host Name", you should see 2 network adapter
    - the first one is the NAT adapter
    - the second one is the bridged adapter
- The default NAT adapter is 10.0.2.15
- Select the bridged adapter
- Enter a "Host name" e.g centosvm
- click "Apply" then "Done"
- Next click "ROOT PASSWORD"
    - root is the admin user in Linux
    - Enter a password then click "Done"
- Click "Begin Installation"
- Once the installation is completed, don't "RESTART"
- Go to your VirtualBox and shut down the VM
- Right click on the centosvm and go to "Settings"
- Go to "Storage" in the "Expert" tab
- remove the disc from the "Optical Drive" else it will boot again from th ISO
- start the centosvm
    - Click "Start Setup" and follow the steps
- Once it's done, got to terminal and enter the command
```
ip addr show
```
- You should see the NAT IP address e.g inet: 10.0.2.15
- and the network adapter IP address e.g inet: 192.168.1.10/24 
- Take note of the network adapter IP address and the username
- in your windows machine open Git Bash and ssh into the centosvm
```
ssh username@host_ip
```
- Hit "Enter and follow the instructions"
- once you're logged in, you can run any linux commands
```
# see the IP address
ip addr show

# get the username
hostname

# exit
exit
```

## DOWNLOAD UBUNTU ISO FILE
- Search "ubuntu 22 server iso" in google
- URL
```
releases.ubuntu.com
```
- Download the "Server Install Image"

## INSTALL UBUNTU ISO ON VM
- Same process with CentOS

