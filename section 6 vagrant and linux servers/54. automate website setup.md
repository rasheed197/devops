# AUTOMATE WEBSITE SETUP

In this lecture we'll be writing vagrant file that can provision website automatically.

From the previous lecture **WEBSITE SETUP**, inside of VSCode make a copy of the VM rename it (e.g vm_nameIAC) and delete the **.vagrant** folder.

Open Vagranfile and change the **private_network** IP. Through provisioning we're going to run all the commands that we used to setup our website

### We'll add our commands inside
```
config.vm.proision "shell", inline: <<-SHELL

    [COMMANDS HERE]

SHELL
```

### Commands
```
config.vm.proision "shell", inline: <<-SHELL

    yum install wget httpd unzip vim -y
    systemctl start httpd
    systemctl enabled httpd
    mkdir -p /tmp/[FOLDER NAME]
    cd /tmp/[FOLDER NAME]
    wget [LINK FROM tooplate.com]
    unzip -o [file_name.zip]
    cp -r file_name/* /var/www/html/
    systemctl restart httpd
    cd /tmp/
    rm -rf /tmp/[FOLDER NAME]

SHELL
```

Make sure to add **-y** to the end of the **yum install** command, so it answers yes for all questions asked, cause if it asks question during provisioning, provisioning will fail.

Go to git bash
```
$ cd /c/vagrant-vms/vm_nameIAC

$ vagrant up
```

Once this is done you can now visit the site on your browser
```
http://[IP]
```

If everything works fine, you can destroy the VM
```
$ vagrant destroy
```