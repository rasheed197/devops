# WORDPRESS SETUP

In this lecture we'll be setting up an Ubuntu VM with LAMP stack and we'll be deploying WordPress template on it.

Search **wordpress on ubuntu** on your browser, select the Ubuntu documentation, and read through athe steps.

Search **vagrant cloud** in your browser, and in the vagrant cloud website search for the Ubuntu box version the documentation said is required to setup WordPress e.g **ubuntu 20**

Copy the box name, and create a directory for it

```
$ mkdir /c/vagrant-vms/wordpress 

$ cd /c/vagrant-vms/wordpress

$ vagrant init [BOX NAME]
```

Edit Vagrantfile using vim

```
$ vim Vagranfile
```

Enable public_network, and private_network. Keep RAM as 1.5gb (1600), if it's available else leave it as 1gb (1024). Save and Quit.

```
#private network
config.vm.network "private_network", ip: "192.168.33.10"

#public network
config.vm.network "public_network"

#memory
config.vm.provider "virtualbox" do |vb|
    ...
    vb.memory = "1600"
end
```

Create the VM
```
$ vagrant up
```

Login to the VM

```
$ vagrant ssh

$ sudo -i
```

### Follow the steps in the Ubuntu documentation.

1. Overview
2. Install dependencies 
3. Install WordPress 
    - it creates a directory **/srv/www**
    - change ownership of that directory to **www-data**
    - download WordPress using curl, extract it and put it into **/srv/www** folder.
    - NOTE: **/srv/www/wordpress** will also act the same way as **/var/www/html**
4. Configure Apache for WordPress 
    - Copy and paste content in stated file
    - Enable WordPress site
    - Set redirect rule
    - Disable the default webpage
    - Restart Apache2 service

Let's explain what the commands did

```
$ ls /etc/apache2/site-enabled/
```
In this **site-enabled** folder, you should see a link **wordpress.conf** that points to **../site-available/wordpress.conf**
 

```
$ ls /etc/site-available/
```

In the folder **/etc/site-available/** is where have our configuration file **WordPress.conf**

This link **wordpress.conf** that got created enabled the WordPress website, and disabled the default webpage.

5. Configure database 
    - login to mysql as root user
    - create database **wordpress**
    - create user **wordpress@localhost** identified with password **admin123**
    - grant privilege to this user
    - reload
```
#see all databases
mysql> show databases

#quit mysql
mysql> quit
```

6. Configure WordPress to connect to the database: Make sure to replace the **database name**, **password**, and **username**
    
7. Configure WordPress: access WordPress in your browser **http://[IP]**


```
#wordpress configuration file

$ cat /etc/apache2/sites-available/wordpress.conf

$ cat /srv/www/wordpress/wp-config.php
```


Once you are done logout and destroy VM
```
$ exit

$ vagrant destroy 
```





