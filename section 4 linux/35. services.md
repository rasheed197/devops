# SERVICES

In the previous video we installed httpd

httpd is a web service, and the package name is called httpd

You should now have a service named http, which can be managed by "systemctl" command

### 1. Check service status
Check the status of the httpd service
```
[root@centos ~]# systemctl status httpd

○ httpd.service - The Apache HTTP Server
     Loaded: loaded (/usr/lib/systemd/system/httpd.service; disabled; preset: disabled)
     Active: inactive (dead)
       Docs: man:httpd.service(8)
```

It says the service is inactictive

### 2. Start a service
```
[root@centos ~]# systemctl start httpd
```

Now if you check the httpd status, it should show active, and you should also see some processes ("in CGroup") running with their ID

```
[root@centos ~]# systemctl status httpd

...
     Active: active (running) since Fri 2025-11-14 03:14:05 UTC; 58s ago
...
CGroup: /system.slice/httpd.service
             ├─3478 /usr/sbin/httpd -DFOREGROUND
             ├─3479 /usr/sbin/httpd -DFOREGROUND
             ├─3480 /usr/sbin/httpd -DFOREGROUND
             ├─3481 /usr/sbin/httpd -DFOREGROUND
             └─3482 /usr/sbin/httpd -DFOREGROUND
```

What it really means to run a service means ther are some processes running.
So if you want to start, restart or stop processes you can use "systemctl" command for a service.

### 3. Restart a service
If you make some changes, configuration changes to your service, you can restart the servive so it takes effect
```
[root@centos ~]# systemctl restart httpd
```

### 4. Reload configuration
You can also reload a service configuration without restarting the service
```
[root@centos ~]# systemctl reload httpd
```

### 5. Enable a service to start at boot time
Right now the httpd service is active but if we reboot our machine, the service will no longer ne active.

```
#reboot VM
[root@centos ~]# sudo reboot

#log in to VM
HP@DESKTOP-OMEFLDD MINGW64 /c/vagrant-vms/centos
$ vagrant ssh

#check service status
[vagrant@centos ~]$ systemctl status httpd

     ...
     Active: inactive (dead)
     ...
```

So it did not come up at the boot time.
If you want to bring up a service at the boot time, then you have to say

```
[root@centos ~]# systemctl enable httpd

Created symlink /etc/systemd/system/multi-user.target.wants/httpd.service → /usr/lib/systemd/system/httpd.service.
```

### 6. sshd service
We have always been doing ssh into this machine.

There's a service called "sshd" if this service happens to stop we'll not be able to do ssh.

```
[root@centos ~]# systemctl status sshd

     ...
     Active: active (running) since Fri 2025-11-14 03:29:34 UTC; 12min ago
     ...
```

### 7. Check if a service is active
Check if a service is running or not
```
[root@centos ~]# systemctl is-active http

inactive
```

### 7. Check if a service is enabled
Check if a service is enabled for boot time or not
```
[root@centos ~]# systemctl is-enabled http

enabled
```

### 8. How systemctl works

The way systemctl really works is based on its configuration file.

For htttp, there should be a configuration file and it got created when we installed httpd through yum

```
[root@centos ~]# cat /etc/systemd/system/multi-user.target.wants/httpd.service

...
ExecStart=/usr/sbin/httpd $OPTIONS -DFOREGROUND
...
```

So when we say "systemctl start httpd", it's going to read this configuration file "/etc/systemd/system/multi-user.target.wants/httpd.service", and we'll see "ExecStart", so how to start. So this "/usr/sbin/httpd" is actually the binary which it's running, with some options "$OPTIONS", and some arguments "-DFOREGROUND".

So it basically ran this command "/usr/sbin/httpd $OPTIONS -DFOREGROUND" to start the httpd service

#### Note
- There are cases where we just have a tar ball where we download and extract. 
- We don't have a systemctl file to start such services, but we can create one.

