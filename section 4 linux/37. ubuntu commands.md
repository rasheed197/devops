# UBUNTU COMMANDS

Most of the commands we've learnt works on Ubuntu and CentOS.

### 1. useradd COMMAND

```
root@ubuntu-jammy:~# useradd devops

root@ubuntu-jammy:~# su - devops
su: warning: cannot change directory to /home/devops: No such file or directory

root@ubuntu-jammy:/# userdel -r devops
userdel: devops mail spool (/var/mail/devops) not found
userdel: devops home directory (/home/devops) not found
```

When you use **useradd** in Ubuntu, it will not create the home directory, it will not create the mailing spool

So instead of **useradd** we use the **adduser** command

```
root@ubuntu-jammy:/# adduser devops

Adding user `devops' ...
Adding new group `devops' (1002) ...
Adding new user `devops' (1002) with group `devops' ...
Creating home directory `/home/devops' ...
Copying files from `/etc/skel' ...
New password:
```

When you user in Linux system it copy all the files from /etc/skel directory to users home directory, in this case /home/devops

### 2. visudo COMMAND
In CentOS, **visudo** command opens the sudos file in vi editor, but in Ubuntu the default editor is nano.

So the sudos file will be opened in nano editor

```
#set default editor to vim temporarily
root@ubuntu-jammy:/# export EDITOR=vim
```

Now if you run **visudo** it should open it in vim editor
```
root@ubuntu-jammy:/# visudo
```

### 3. PACKAGE MANAGER
This is the main difference between Ubuntu and CentOS

#### DOWNLOAD AND INSTALL tree PACKAGE
```
- Search google for "tree debian package for ubuntu"

- URL: https://www.ubuntu.pkgs.org

- Scroll down and copy the Binary Package url "http://archive.ubuntu.com/ubuntu/pool/universe/t/tree/tree_2.0.2-1_amd64.deb"

- Download the package using wget or curl
```

#### Download the tree package
```
root@ubuntu-jammy:/~# wget http://archive.ubuntu.com/ubuntu/pool/universe/t/tree/tree_2.0.2-1_amd64.deb

...
2025-11-15 10:50:37 (134 KB/s) - ‘tree_2.0.2-1_amd64.deb’ saved [47942/47942]

root@ubuntu-jammy:/~# ls
snap    tree_2.0.2-1_amd64.deb  
```

#### Install the tree package
```
root@ubuntu-jammy:~# dpkg -i tree_2.0.2-1_amd64.deb

Selecting previously unselected package tree.
...
Processing triggers for man-db (2.10.2-1) ...
```

#### Run the tree command
```
root@ubuntu-jammy:~# tree
.
├── snap
│   └── lxd
│       ├── 35819
│       ├── common
│       └── current -> 35819
└── tree_2.0.2-1_amd64.deb

5 directories, 1 file
root@ubuntu-jammy:~#
```

#### List all debian package in your machine
```
root@ubuntu-jammy:~# dpkg -l
```

#### Search for a package e.g tree
```
root@ubuntu-jammy:~# dpkg -l | grep tree

ii  tree                             2.0.2-1                                 amd64        displays an indented directory tree, in color
```

#### Remove a package e.g tree
```
root@ubuntu-jammy:~# dpkg -r tree
```

As we have "yum" in Red Hat, in Ubuntu we have "apt"
```
root@ubuntu-jammy:~# cd /etc/apt

root@ubuntu-jammy:/etc/apt# ls
apt.conf.d  auth.conf.d  keyrings  preferences.d  sources.list  sources.list.d  trusted.gpg.d
```

The file "sources.list" contain the repository information
```
root@ubuntu-jammy:/etc/apt# cat sources.list

...
deb http://archive.ubuntu.com/ubuntu jammy universe
# deb-src http://archive.ubuntu.com/ubuntu jammy universe
deb http://archive.ubuntu.com/ubuntu jammy-updates universe
# deb-src http://archive.ubuntu.com/ubuntu jammy-updates universe
...
```

So we have different urls over here, and if you want you can add any new repository information

Whenever you want to install any package in Ubuntu or any Debian machine, you ru the **apt update** command first
```
root@ubuntu-jammy:/etc/apt# apt update

Hit:1 http://archive.ubuntu.com/ubuntu jammy InRelease
Get:2 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
...
13 packages can be upgraded. Run 'apt list --upgradable' to see them.
```
This command will check all the repository for the latest package and create a list.

You son't need to do that with yum because yum will anyways search first, create a list, and it can refresh the list every 24hrs.

But this is the place Ubuntu or Debian really beats Red Hat system beacause of its software access.

It has tons and tons of softwares which is available from so many repositories around the world.

#### Search for a package (e.g tree) using **apt**
```
root@ubuntu-jammy:~# apt search tree
```
You'll see a lot of package which has the name tree

#### Install a package (e.g tree) using **apt**
```
root@ubuntu-jammy:~# apt install tree
```

Just like yum, apt will also install all the package dependencies if there are any.

We also have apt-get which is older command.

#### Install apache
```
root@ubuntu-jammy:~# apt install apache2
```

Apache is a service, in Ubuntu if you install any service, it'll start, and enable it automatically.

```
root@ubuntu-jammy:~# systemctl status apache2
    ...
    Active: active (running) since Sat 2025-11-15 11:36:04 UTC; 35s ago
    ...

root@ubuntu-jammy:~# systemctl is-enabled apache2
enabled
```

#### Upgrade all the packages in Ubuntu
```
root@ubuntu-jammy:~# apt upgrade
```

#### Note: 
- **apt update** is just going to check the list and update the list
- **apt upgrade** will actually upgrade all the packages

#### Remove a package (e.g apache2) using **apt**
```
root@ubuntu-jammy:~# apt remove apache2
```

**apt remove** will remove the package but it will not remove the configuration and the data of those service or package

Remove a package with all its configuration and data
```
root@ubuntu-jammy:~# apt purge apache2
```

When you're installing or uninstalling any service like apache2 in Ubuntu, it is going to update the firewall rules
```
root@ubuntu-jammy:/etc/apt# apt purge apache2

...
Removing apache2 (2.4.52-1ubuntu4.16) ...
...
Processing triggers for ufw (0.36.1-4ubuntu0.1) ...
```

**ufw** is Ubuntu firewall
