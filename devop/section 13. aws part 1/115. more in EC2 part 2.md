# MORE IN EC2 PART 2


Okay we have few more things remaining that I need to show you about the EC2 instance, and after we see these things, we're going to jump into the next service on AWS.

So in the last lecture we created this instance `web01`, and it has a `public IP` and a `private IP`. 

Once you create the instance the `private IP` is static. So unless you delete this instance, this private IP is reserved for your instance. But that is not the case with the public IP.

This `public IP` is dynamic. If you shut down this instance, this IP will be released back and when you power on the instance, you will get a new public IP. Take a look, I'm going to power off this instance. So I'm going to click `Instance state` then `Stop instance` then `Stop`. If you refresh after a few seconds you will see the private IP is there but the public IP is gone.

Now when you power on the instance I'll click `Instance state`  then `Start instance`. In few seconds you're going to get a new public IP different than the old one.

Now majority of the cases this is not a big problem because we will have load balancer and other services that access the instance. But if you need a static public IP for your EC2 instance, then you need to get into the `Elastic IP`.

So under `Network & Security` you see here `Elastic IPS`.

If you click on `Allocate Elastic IP address` you can allocate an elastic IP for yourself. Now this is a unique IP address in the world that will be reserved for you.

And also there is a limit, AWS gives you five elastic IP. If you need more then you need to talk to the support. And also elastic IPS are not free. There will be some charges. So you can skip this practice and you can just watch it. It's pretty simple, but if you still want to do it, you can do it. The charges are really negligible.

So once again elastic IP is a static public IP. You have five. So I'm going to ask for my first elastic IP, click on `Allocate Elastic IP address`.

You select the region we're going to keep it same. Just click `Allocate`. So you got a an elastic IP over here which is public.

And select the elastic IP address and go to `Actions` and click `Associate Elastic IP address`. Now here you get two options 
- `Instance` and 

- `Network interface`.

So every instance will by default have a network interface. But you can have multiple network interface. And every network interface can have different elastic IP if you want.

So cancel this and let me show the `Network interface` to you. So go to the EC2 `Instance`, select the instance, go to `Networking`. If you scroll down till the end, you will see `Interface ID`. This is the network interface.

Now the IP is allocated to the network interface. So you have the private IP attached to this network interface, and the public IP is also for this network interface.

This is the default network interface of your instance. You can have more network interfaces as well. If you go into `Network & Security` network interfaces, you will see your `Network interface ID`, your instance name `web01`, and you can see here you can create more network interface and attach it to your instance `Create network interface`.

And as I said, you don't need to really do all this in this lecture. You can just watch it. If you need to understand these options. The instance can have multiple network interface, and each network interface can have different IP, private and public both.

So let's go back to the `Elastic IPS`, let's go to `Action` then `Associate Elastic IP address`.

And now you see you can select `Instance` or `Network interface`. Now you know what network interface means. But anyways we'll select the `Instance` and we'll select the `Instance` name, and then you can click `Associate`.

Now this instance has just one network interface. And this IP will be attached to that default network interface of the instance.

Now if you go back to your `Instance` refresh and go to `Details` you will see the elastic IP associated to this instance `Public IPv4 address`. And this is static. So if I power off this instance and I power it back on, this IP will remain same.

And I'm going to show that to you. So `Instance state` then `Stop instance` then `Stop`. You see the instance is in stopped state. It's powered off but the IP is still there.

So as I said in most of the cases you will not need elastic IP to your instance. You will realize after completing this course. But in case if you need a static public IP to your instance, this is how you can get it.

Okay, now I'm going to power the instance back on.

One more thing, the `Security group` that we have seen is also on the network interface. So the private IP, public IP and security group is attached to the network interface of the instance.

So if you go to the `Networking` tab, if you scroll down you will see the network interface, so all this is on the network interface. So anything that is related to the networking of the instance is attached to the network interface. And you can have one or multiple network interface. Each can have their own IPS, security groups, and elastic IP also.

Now next thing, so instance will also have a `Volume`. When we launched the instance we select the `AMI`, and the `AMI` gives you a volume the storage.

If you go to the `Storage` tab of the instance you should see here a volume ID. you can also go to the Volumes section under `Elastic Block Store`.

Also here in the left side, if you click on `Volumes` under `Elastic Block Store`, you can see the `Volume ID`, you can see the tag `Name` that we have given to the instance. If you scroll right in the `Attached resources`, we have the the instance ID of the volume.

So we're going to have a dedicated lecture on volumes. We're going to get into detail about that. But I just wanted to show you these default things about the instance. 

So the instance, when you launch comes with a default volume. So this is 8GB. Some AMI might might give you 20GB, some might give you 30, some might give you 120, really depends on the AMI. Most of the default Linux AMIs comes with 8GB.

So if you go to `Dashboard` and if you refresh the dashboard, you will see here `1 Instance`, and you'll see in the running we have `1 Instances (Running), `1 Key pair`, `2 Security groups`, `1 Elastic IP`, and `1 Volumes`.

Always keep track of your EC2 dashboard. So if you have any, you know, extra volumes or elastic IP, or anything. You can find it from here and then you can go there and delete it if you don't need it.

Okay. Now let's go to the running instance, take some time and explore all these tabs. Look at the different options and settings of the EC2 instance. Keep in mind you're not just learning EC2 service here. You're learning many basic concepts of cloud computing through EC2. All this knowledge will be applied in further lectures, in the projects, and even in real time. So make sure you spend quite good amount of time on EC2. Please do not rush here.

Let's take a look at the `Actions`, see if we can make changes to this instance. So click on `Actions` In the `Instance settings` you have many settings that you can change. One of them is `Change instance type` and it's grayed out. So right now we have `t2.micro`, `t3.micro` for our instance.

We can expand it, we can have a bigger instance type or a smaller instance type. Because you know cloud computing is elastic in nature. But since it's grayed out we need to power off this instance. We're going to change the instance type and then we power it back on.

You don't need to do this because when we change to a bigger instance type, there will be charges on hourly basis. We're going to wrap it up in a few minutes, but still you need not do it. It's pretty simple exercise. I'm just going to show you just watch.

So first thing I'm going to power off this instance `Instance state -> Stop instance -> Stop`.

Remove this filter `instance=running` because there's no running instance.

Now we have a stopped instance. Now I'm going to change instance type. Once again you don't need to do this. Just watch. So go to `Actions -> Instance setting -> Change instance type`.

So right now it's `t2.micro` and I am going to change it I'm going to change it to `t2.small`, one step bigger.

Here you can see the comparison. So t2.micro has 1GB t2.small has 2GB, 1 core CPU, 1 core CPU that remains same.

So whenever you change the instance type you get like this a nice comparison, even the costing. And that really helps you decide should you go for it or not?

But for now, I'm just going to go for it. I'm going to change it to t2.small and click `Change instance type`

The instance type is changed and now I'm going to power it on `Instance state -> Start instance`. And that's how simple it is, now I have a bigger instance type.

Let's take a look at other settings.

So you have `Change termination protection` where you can enable a protection `Actions -> Instance settings -> Change termination protection`. I'm going to enable it, then `Save`.

So this helps in accidental deletion. Some people, you know accidentally delete the instance, this is not going to allow that. You need to disable this protection, only then can you delete the instance. Which we'll see once we delete this instance.

Like that there are many settings.

Now if we go to `Actions -> Networking` you see we can `Attach network interface`, we can `Detach network interface` `RDS` will come to this later. We can `Disassociate our elastic IP`, we can `Manage IP addresses`.

Let's take a look at the `Actions -> Security -> Change security groups`. You can change the security group or you can add multiple security group also.

So like I can select a security group in the dropdown and click `Add security group` or I can `Remove` the security group. So I just added the default. Then I removed the default again I just wanted to keep the same security group, click `Save`. 

The other setting, you have `Actions -> Security-> Modify IAM role` which we are going to see later. These are basically permission on which servers can access this instance or from this instance what you can access. We'll take a look at it later.

`Actions -> Image and templates`, we're going to see this in few lectures. We can create an AMI from this instance that will see.

`Actions -> Monitor and troubleshoot`, so sometimes this thing happens, we make some changes at the OS level and the instance does not come up, then you can look at the `System log` `Actions -> Monitor and troubleshoot -> System log`.

So it's not like live system log. It takes time to load. It's like the computer monitor to your EC2 instance. But this is not live. You can just download the log and take a look. Basically helps with the booting log.

Okay. So like that there are many more settings and information about the EC2 instance. As I told you, you're not just learning EC2 servers and its settings, You are learning many cloud computing concepts through EC2 servers, so take your time, explore this, create, delete instances, play with it. Just make sure you keep it at t2.micro or t3.micro in the free tier limit and just play with it.

I'm going to now terminate this instance. I'm going to say `Instance -> terminate(delete) instance -> Terminate(delete)`, and I'm going to get an error. That is because I have enabled termination protection.

So I'm going to disable that first. So I go to `Actions -> Instance setting -> Change termination protection`, disable and `Save`. And now I can terminate the instance.

Come to the `Elastic IPS` section, refresh it, select the elastic IP that you have, say `Actions -> Release Elastic IP address -> Release` 

Elastic IPS are not free, so make sure you release it back to the AWS pool if you find any elastic IP.

And that should be all in this lecture. I will see you in the next one.


