# EXPORTING VARIABLES

We've already seen variables, the scope of that variable is global, but if you logut of your computer, or you close the shell the variables will be gone.

What if you want to make variables permanent for a user or for every user in the system. Then we have to export the variables.

login as root user

```
$ sudo -i
```

Create a normal variable
```
$ SEASON="Monsoon"
$ echo $SEASON

#OUTPUT
Monsoon
```

Let's create a script using vim.

```
#my-script.sh

#!/bin/bash

The $SEASON season is more than expected, this time.
```

Now, what happens when we run this file is that it's going to open a shell and this shell will be a child shell for the parent shell.

What happens if we run this file on the current shell

```
$ ./my-script.sh

#OUTPUT
The season is more than expected, this time.

$ echo $SEASON

#OUTPUT
Monsoon
```

We do not get the variable $SEASON when we ran the script. The variable does exist on the parent shell, but not on the child shell.

What we can do is give the command `export` and pass it the variable name. T variable will then be available to all the child shell from the parent shell

```
$ export SEASON

$ ./my-script.sh

#OUTPUT
The Monsoon season is more than expected, this time.
```

So this is what exporting a variable does, it makes the variable global for every other child shell.

But this is still temporary, if you logout of the shell, then login back, the variable will be gone.

```
#logout
$ exit

login#
$ sudo -i

$ echo $SEASON

#OUTPUT

```

#### HOW DO WE MAKE THIS VARIABLE PERMANENT
In every user's home directory, we have this two hidden file called as `.bashrc` and `.bash_profile`

```
$ ls /home/username -a

#OUTPUT
...   .bashrc   ...   .bash_profile   ...
```

Sometimes `.bash_profile` is also called as `.profile`

So if we place our `export` command and variable in `.bashrc` or `.bash_profile` file, then our variable will become permanent for that user.

Every user will have its own `.bashrc` and `.bash_profile` file.  So whenever the root user or any user login, this file will be sourced like this

```
$ source .bashrc
```

So if i place my command in the `.bashrc` file

```
$ vi .bashrc
```

```
#.bashrc

...

export SEASON="Monsoon"
```

If i print the variable

```
$ echo $SEASON

#OUTPUT

```

We get nothing, the reason for that is because the file `.bashrc` is not `sourced` yet. To do that we have to logut and login again

```
$ exit

$ sudo -i

$ echo $SEASON

#OUTPUT
Monsoon
```

The variable now `$SEASON` is available because the `.bashrc` file was sourced when the user logged in.

**NOTE** The variable `$SEASON` is only available for the user that owns the `.bashrc` file. But if you want to do it globally for every user, then you can use this file `/etc/profile`

```
$ vim /etc/profile
```

```
#/etc/profile

...

export SEASON="Winter"
```

Now log out of the VM.

```
#logout of root user
$ exit 

# logout of normal user
$ exit

#login to VM
$ vagarnt ssh

#as normal user
$ echo $SEASON

#OUTPUT
Winter

#as root user
$ echo $SEASON

#OUTPUT
Monsoon
```

The `/etc/profile` file is for everyone so the root user is supposed print `winter` as well right? What happened is the `.bashrc` file overwrite that variable for the root user.

So the moral of this story is if you want to make variable permanent for everyone, the edit the `/etc/profile` file, but if you want to make variable permanet for a user, the edit the `.bashrc` file of that user

